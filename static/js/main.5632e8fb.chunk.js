(this["webpackJsonpredlab-test"]=this["webpackJsonpredlab-test"]||[]).push([[0],[,,,,,function(e,t,a){var n={"./cat.svg":19,"./dog.svg":20,"./fox.svg":21,"./koala.svg":22,"./lion.svg":23,"./owl.svg":24,"./penguin.svg":25,"./pig.svg":26,"./raccoon.svg":27,"./react.svg":28,"./sheep.svg":29};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=5},,,,,,,function(e,t,a){e.exports=a(36)},,,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/cat.c495286f.svg"},function(e,t,a){e.exports=a.p+"static/media/dog.85663da2.svg"},function(e,t,a){e.exports=a.p+"static/media/fox.ec0401f8.svg"},function(e,t,a){e.exports=a.p+"static/media/koala.5cced49d.svg"},function(e,t,a){e.exports=a.p+"static/media/lion.3c6574b3.svg"},function(e,t,a){e.exports=a.p+"static/media/owl.1d9a9537.svg"},function(e,t,a){e.exports=a.p+"static/media/penguin.8e2badb7.svg"},function(e,t,a){e.exports=a.p+"static/media/pig.296123ee.svg"},function(e,t,a){e.exports=a.p+"static/media/raccoon.7c68f014.svg"},function(e,t,a){e.exports=a.p+"static/media/react.11a8f47e.svg"},function(e,t,a){e.exports=a.p+"static/media/sheep.2e62bc7b.svg"},function(e,t,a){},function(e,t,a){var n={"./boy.mp4":32,"./shoe.mp4":33};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=31},function(e,t,a){e.exports=a.p+"static/media/boy.bf80c094.mp4"},function(e,t,a){e.exports=a.p+"static/media/shoe.93fec09c.mp4"},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),c=a.n(s),i=a(2),o=a.n(i),l=a(7),u=a(1),m=a(3),f=a(8),p=a(9),v=a(11),d=a(10),g=(a(18),function(e){var t=e.id,n=e.index,s=e.userImage,c=e.userName,i=e.userAge,o=e.userPhone,l=e.addFavorites,u=e.favorites,m={animationDelay:"".concat(n/2,"s"),animationName:"fadein",animationDuration:"1s",animationIterationCount:1,animationFillMode:"forwards"};return r.a.createElement("div",{className:"user-view-table",style:m},r.a.createElement("img",{src:a(5)("./".concat(s,".svg")),alt:""}),r.a.createElement("span",{className:"name"},c),r.a.createElement("span",{className:"age"},i),r.a.createElement("span",{className:"phone"},o),r.a.createElement("span",{className:"favorites"},r.a.createElement("i",{className:"".concat(u.includes(t)?"star-active":"star"),onClick:function(){return l(t)}})))}),h=(a(30),function(e){var t=e.userImage,n=e.userName,s=e.userAge,c=e.userPhone,i=e.userPhrase,o=e.userVideo,l=o?"width100":"";return r.a.createElement("div",{className:"user-view-prev ".concat(l)},r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"avatar-name"},r.a.createElement("img",{src:a(5)("./".concat(t,".svg")),alt:""}),r.a.createElement("span",{className:"name"},n)),r.a.createElement("span",{className:"age"},s),r.a.createElement("span",{className:"phone"},c),r.a.createElement("p",{className:"phrase"},i)),r.a.createElement("div",{className:"video"},o&&r.a.createElement("video",{width:"300",height:"100%",controls:"controls",autoPlay:"autoPlay"},r.a.createElement("source",{src:a(31)("./".concat(o,".mp4"))}))))}),E=(a(34),function(e){var t=e.sort,a=e.sortQuery,n=e.sortingParameter,s=e.langInterface;return r.a.createElement("div",{className:"sort"},r.a.createElement("span",null,"ru"===s?"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430":"Sort"),r.a.createElement("ul",null,r.a.createElement("li",{className:"id"===a?"active":"",onClick:function(){return t("id",n)}},"ID"),r.a.createElement("li",{className:"name"===a?"active":"",onClick:function(){return t("name",n)}},"ru"===s?"\u0418\u043c\u044f":"Name"),r.a.createElement("li",{className:"age"===a?"active":"",onClick:function(){return t("age",n)}},"ru"===s?"\u0412\u043e\u0437\u0440\u0430c\u0442":"Age")),r.a.createElement("ul",{className:"sorting-parameter"},r.a.createElement("li",{className:"increase"===n?"active":"",onClick:function(){return t(a,"increase")}},"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"),r.a.createElement("li",{className:"decrease"===n?"active":"",onClick:function(){return t(a,"decrease")}},"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e")))}),N=(a(35),function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).sort=function(t,a){if(t!==e.state.sortQuery||a!==e.state.sortingParameter){var n=Object(m.a)(e.state.users);e.setState(Object(u.a)(Object(u.a)({},e.state),{},{sortQuery:t,sortingParameter:a}),(function(){var r;"increase"===a&&(r={id:function(e,a){return e[t]-a[t]},name:function(t,a){return t.name[e.state.langInterface].localeCompare(a.name[e.state.langInterface])},age:function(e,a){return e[t]-a[t]}}),"decrease"===a&&(r={id:function(e,a){return a[t]-e[t]},name:function(t,a){return a.name[e.state.langInterface].localeCompare(t.name[e.state.langInterface])},age:function(e,a){return a[t]-e[t]}}),n.sort(r[t]),e.setState({users:n})}))}},e.setFilterQuery=function(t){e.setState({filterQuery:t.target.value})},e.getFilteredUsers=function(){return e.state.users.filter((function(t){var a=t.name[e.state.langInterface].toLocaleLowerCase(),n=e.state.filterQuery.toLocaleLowerCase(),r=a.split(" ").reverse().join(" ");if(a.includes(n)||r.includes(n))return t}))},e.switchInterfaceLang=function(t){e.setState({langInterface:t.target.value})},e.setAppView=function(t){e.setState({appView:t})},e.addFavorites=function(t){var a;e.state.favorites.includes(t)?a=e.state.favorites.filter((function(e){return e!==t})):(a=Object(m.a)(e.state.favorites)).push(t),e.setState({favorites:a})},e.state={appView:"table",users:null,langInterface:"ru",sortQuery:"id",sortingParameter:"increase",filterQuery:"",favorites:[]},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){if(t!==this.state){var a=Object(u.a)({},this.state);a.users=null,window.localStorage.setItem("state",JSON.stringify(a))}}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://drew11.github.io/redlab-test/materials/data/data.json",{mode:"cors"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=JSON.parse(window.localStorage.getItem("state")),this.setState(Object(u.a)(Object(u.a)({},n),{},{users:a}),(function(){return r.sort(r.state.sortQuery,r.state.sortingParameter)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.users?this.getFilteredUsers().map((function(t,a){var n;return"table"===e.state.appView&&(n=r.a.createElement(g,{key:t.id,id:t.id,index:a,userImage:t.image,userName:t.name[e.state.langInterface],userAge:t.age,userPhone:t.phone,addFavorites:e.addFavorites,favorites:e.state.favorites})),"prev"===e.state.appView&&(n=r.a.createElement(h,{key:t.id,userImage:t.image,userName:t.name[e.state.langInterface],userAge:t.age,userPhone:t.phone,userPhrase:t.phrase[e.state.langInterface],userVideo:Object.getOwnPropertyNames(t).includes("video")?t.video:null})),n})):null,a="ru"===this.state.langInterface?"\u041f\u043e\u0438\u0441\u043a":"Search",n="table"===this.state.appView?"direction-column":"";return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"Test task"),r.a.createElement("div",{className:"lang-search-wrapper"},r.a.createElement("div",{className:"search"},r.a.createElement("span",null,a),r.a.createElement("input",{onChange:this.setFilterQuery,type:"text",value:this.state.filterQuery})),r.a.createElement("div",{className:"lang-select"},r.a.createElement("select",{name:"lang",id:"",onChange:this.switchInterfaceLang,value:this.state.langInterface},r.a.createElement("option",{value:"ru"},"Ru"),r.a.createElement("option",{value:"en"},"En")))),r.a.createElement("div",{className:"sort-view-wrapper"},r.a.createElement(E,{sort:this.sort,sortQuery:this.state.sortQuery,sortingParameter:this.state.sortingParameter,langInterface:this.state.langInterface}),r.a.createElement("ul",{className:"app-view"},r.a.createElement("li",{className:"table"===this.state.appView?"active":"",onClick:function(){return e.setAppView("table")}},"ru"===this.state.langInterface?"\u0422\u0430\u0431\u043b\u0438\u0446\u0430":"","en"===this.state.langInterface?"Table":""),r.a.createElement("li",{className:"prev"===this.state.appView?"active":"",onClick:function(){return e.setAppView("prev")}},"ru"===this.state.langInterface?"\u041f\u0440\u0435\u0432\u044c\u044e":"","en"===this.state.langInterface?"Preview":"")))),r.a.createElement("main",null,r.a.createElement("div",{className:"main-view-container ".concat(n)},t)),r.a.createElement("footer",null))}}]),a}(r.a.Component));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.5632e8fb.chunk.js.map